@{
    ViewBag.Title = "Notification Quote";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="content-header">
    <h1>
        Notification List
    </h1>
</section>
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <table id="example1" class="table table-bordered table-striped" style="width:100%">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Field Name</th>
                            <th>Before</th>
                            <th>After</th>
                            <th>Date</th>
                            <th>Changed By</th>
                            <th>Go to</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</section>
<script>
    var alltbl = $('#example1').DataTable({
        "ordering": false,
        "processing": true, // for show progress bar
        "serverSide": true, // for process server side
        "filter": true, // this is for disable filter (search box)
        "orderMulti": false, // for disable multiple column at once
        "pageLength": 25,
        "language": { processing: '<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ' },
        "ajax": {
            "url": "../Form/LoadQuoteNotification",
            "type": "POST",
            "datatype": "json",
        },
        "fnRowCallback": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {
            
        },
        "fnDrawCallback": function (oSettings) {

            setTimeout(function () {
                alltbl.columns.adjust();
            }, 2000);

        },
        "columnDefs":
            [
            ],
        "createdRow": function (row, data, dataIndex) {
        },
        "columns": [
            { "data": null },
            { "data": "FieldName", "autoWidth": true, "orderable": false },
            { "data": "Before", "autoWidth": true, "orderable": false },
            { "data": "After", "autoWidth": true, "orderable": false },
            { "data": "DateTime", "autoWidth": true, "orderable": false },
            { "data": "Username", "autoWidth": true, "orderable": false },
            { "data": "QuoteLink", "orderable": false }
        ]
    });
    alltbl.on('draw.dt', function () {
        var info = alltbl.page.info();
        alltbl.column(0, { search: 'applied', order: 'applied', page: 'applied' }).nodes().each(function (cell, i) {
            cell.innerHTML = i + 1 + info.start;
        });
    });
</script>