@{
    ViewBag.Title = "Company";
    Layout = null;
}
@model  Synzeal_Inventory.Entity.SZ_ChildCOA
<!-- left column -->
<div class="col-md-12">
    <!-- general form elements -->
    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Add New COA</h3>
        </div> 
        <!-- /.box-header -->
        <!-- form start -->
        <form role="form" id="formaddmastercoarepresentative">
            <div class="box-body">
                <div class="col-md-6">
                    <img src="@ViewBag.ImagePath" width="100%" />
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Product Name : </label>
                        <span>@Model.ProductName</span>
                        <input type="hidden" id="batchId" name="batchId" value="@Model.BatchNo" />
                        <input type="hidden" id="sku" name="sku" value="@ViewBag.CATNo" />
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">CAT No : </label>
                        <span>@ViewBag.CATNo</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">CAS No : </label>
                        <span>@ViewBag.CASNo</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Mol Formula : </label>
                        <span>@ViewBag.MolecularWeight</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Mol Weight : </label>
                        <span>@ViewBag.MolFormula</span>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <div class="col-md-3">
                            <input type="checkbox" id="EPchk" name="EPchk" /> &nbsp;&nbsp;&nbsp;&nbsp;
                            <label for="exampleInputEmail1">As Per EP : </label>
                        </div>
                        <div class="col-md-9" style="margin-bottom: 10px;">
                            <input type="text" class="form-control" id="EP" name="EP" placeholder="EP" required value="@Model.EP">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3">
                            <input type="checkbox" id="USPchk" name="USPchk" /> &nbsp;&nbsp;&nbsp;&nbsp;
                            <label for="exampleInputEmail1">As Per USP : </label>
                        </div>
                        <div class="col-md-9" style="    margin-bottom: 10px;">
                            <input type="text" class="form-control" id="USP" name="USP" placeholder="USP" required value="@Model.USP">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3">
                            <input type="checkbox" id="IUPACchk" name="IUPACchk" /> &nbsp;&nbsp;&nbsp;&nbsp;
                            <label for="exampleInputEmail1">As Per ChemDraw / IUPAC : </label>
                        </div>
                        <div class="col-md-9" style="    margin-bottom: 10px;">
                            <input type="text" class="form-control" id="IUPAC" name="IUPAC" placeholder="ChemDraw / IUPAC" required value="@Model.IUPAC">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3">
                            <label for="exampleInputEmail1">Other Synonym : </label>
                        </div>
                        <div class="col-md-9" style="    margin-bottom: 10px;">
                            <input type="text" class="form-control" id="OtherSynonum" name="OtherSynonum" placeholder="Other Synonum" required value="@Model.OtherSynonum">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3">
                            <label for="exampleInputEmail1">Additional Information : </label>
                        </div>
                        <div class="col-md-9" style="    margin-bottom: 10px;">
                            <input type="text" class="form-control" id="AdditionalInfor" name="AdditionalInfor" placeholder="Additional Information" required value="@Model.AdditionalInfor">
                        </div>
                    </div>
                </div>
                <div class="form-group" style="text-align:right">
                    <button type="button" onclick="addMasterCOARepresentative()" class="btn btn-primary">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    $.fn.serializeObject = function () {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function () {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };
    function addMasterCOARepresentative() {
        $(".errorcls").each(function () {
            $(this).removeClass('errorcls');
        });

        var errorCount = 0;
      //    if ($("#EP").val() === "") {
      //        $("#EP").addClass('errorcls');
      //        errorCount += 1;
      //    }
     //     if ($("#USP").val() === "") {
      //        $("#USP").addClass('errorcls');
     //         errorCount += 1;
     //     }
      //    if ($("#IUPAC").val() === "") {
     //         $("#IUPAC").addClass('errorcls');
      //        errorCount += 1;
       //   }
       // if (errorCount !== 0) {
     //       return false;
     //   }

        var address = ""; //$("#address").val()
        var model = $("#formaddmastercoarepresentative").serializeObject();
        $.ajax({
            type: "POST",
            url: "/Form/AddMasterCOARepresentativeData",
            data: $("#formaddmastercoarepresentative").serializeObject(),
            success: function (results) {
                if (!results.success) {
                    toastr.error(results.message);
                    return false;
                }
                toastr.success("Representative COA generated.");
                
                setTimeout(function () {
                    ReloadChildMaster();
                    $('#myModal').modal('hide');
                }, 2000);

            }
        });
    }
</script>
